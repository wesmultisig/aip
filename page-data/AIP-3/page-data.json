{"componentChunkName":"component---src-templates-aip-post-js","path":"/AIP-3/","result":{"data":{"site":{"siteMetadata":{"title":"Aave Improvement Proposals","siteUrl":"https://aave.github.io/aip"}},"avatar":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAFDUlEQVQ4y3WU+VNTVxTH34z/Aj/Jn9Bp7bQdWoprHa11R7EBCUsIIiigLIKCS1RAoyhoXgSEJGRPXpKXfQ8QYmIzoNSKSztSa5WMUOyMmf6Ux8s9vXkRpu1Mz8ydeXc5n3fPPed8ieNiJ9F5jiYy1nLZvob4YOJm09qbjUYBWacn7x7R0aMCDa3lq0iqWCmwFinWrpxzFco5HwtvlHDvkxNEmdTLbTRecXIbneesORc6LGT3KXPydpsDhltdIG+wgqbOApYaK1grKDDzRpP2gwrSs0+W80+o7ZAi+5e66y5u4WSPo6Dtom2+qzsIlzqs0NNqYm80UYyk0cgOHTOwsmodo6pQs8ZSNQT4JnAckM9jaAEH3Z+FEtV9bu7j6A33+nqxc/mU2AftIlvq7FkaXT5jQV0njai7RoOuC1RIKtQgebUWqcvVyHBYmXIVa8FZKF/G0PUZhnsFypf6cqpueRLHbgeh4aqTae5ywGmRDbW3UYi85gMf9QBChmlQX3ABWaFCiiot0pSrwViiZNw8LeCQE7692fA5Kx70k0JFFIT9nlRtrxtOiJ2o4TyNbK5HsLzMwoplviPGByCtVKFRDNWWqYEqUaZCh6kMlORge0dDuQdHgsmSu0EoJ73pI7e8qKrHjm5pYqsgQJmBVqe2vjGQliuRMgPlq9KWEhXgJCXxO+YSO9VjggOGGBSNBNiSQT+qlPoQ/6odoo9fc84a+gH88e4v+BMPWhvn1p7FX0J/pQpkNTqkrNQgXamKdZcawFakEBDb9BOSvbZp2KcIMYeGA6h0wA+lfW6YmVvgnIcNcUgsJGERDx1+lozNzSbgZq0OBmr1MCLUImWFmnEKLJlykhCbTWF6hy0O+KbsfkUIfT8cAJ7EA9Nzb1dDfPFqCZ6/WFid//J4HsT1epDUG2DwqA7JhFrWJDSBvlRFEwXWSXqrawq268fZXeoxVKgIwYEBH0z9mgWwaQQMw0IKj3Q6za39PDsPuJzg5gkKJMcNaLBGx+qOWgCXE0186bhHbgr+CFuoMPOtbhztUY3BnmE/xF9mgctsOpuTDJzNAp89SYCohQJxiwlweyLymJ7R1ttBXqWREJ+7o4L84EPYQE+y31BhtANDd8gD8MOrRfg/e/osAZ3tZuhuN6NrzSbUhztppNEKQzU6AfGJP5b7mSea/MoVg42WyfRW4wTapg6hiZdvYeb1ErxaSsKTN+/g+e9L8HrxPTydW4SZ2TfQjjtJ1EGj7jZzurfZDP0NxvdYSLKisc4fI/MijyHfHkltskzCZnzLid8WkMg/A5LwLBxXh6FJPg4y3yOQUHGYeTKPWkRW1HneCqIzllT/WS9ca6LI1U75KHg/Z50vlsgLTsHXtgizwRSGxuBDxKMiaJcsAAeH/FAs9QIfl9PJOwHUq4miE112wELCiC664OJpS+JKqynbejhkrqE/DtwvwNDlvMAUFFgjqXzDeHorvunubOYRD9co/44PVfR7kEDsSGMhSX0QEgYLCac4FzroNf+Frv/UG0vkh3+CjY4obDGFWZx5ZrdqjC2UBVnekJ8pk/rYatIPjXcmM0KSaO6yc0pz5rw1C/vCHc2+o28VmoOTJMHllNzknYbtnoewk47Dfuo+8HDX8JURKCO9SWGfR1Lb6+LCPHUpq/Q9bWYM8MeIPNe9f0EzhsspFydJgDNP4szT32nGaCwkZNFwQFAy4MtdOYdFmfPBKkXg8Im/Adw6zkzX1w4vAAAAAElFTkSuQmCC","width":30,"height":30,"src":"/aip/static/689aad3b5746be423e8a551069ccd17b/91664/logo.png","srcSet":"/aip/static/689aad3b5746be423e8a551069ccd17b/91664/logo.png 1x,\n/aip/static/689aad3b5746be423e8a551069ccd17b/ad39b/logo.png 1.5x,\n/aip/static/689aad3b5746be423e8a551069ccd17b/183c2/logo.png 2x"}}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/AIP-37/"},"frontmatter":{"status":"Proposed","aip":37,"title":"Update to the Liquidity Mining Distribution"}}},{"node":{"fields":{"slug":"/AIP-35/"},"frontmatter":{"status":"Proposed","aip":35,"title":"Adjust interest rate to account for APY over-approximation"}}},{"node":{"fields":{"slug":"/AIP-33/"},"frontmatter":{"status":"Proposed","aip":33,"title":"Add FEI to Aave V2"}}},{"node":{"fields":{"slug":"/AIP-32/"},"frontmatter":{"status":"Proposed","aip":32,"title":"Extend Liquidity Incentives for Aave v2"}}},{"node":{"fields":{"slug":"/AIP-29/"},"frontmatter":{"status":"Proposed","aip":29,"title":"Add FRAX to Aave V2"}}},{"node":{"fields":{"slug":"/AIP-28/"},"frontmatter":{"status":"Proposed","aip":28,"title":"Polygon Cross-chain Governance Test"}}},{"node":{"fields":{"slug":"/AIP-27/"},"frontmatter":{"status":"Proposed","aip":27,"title":"Lower Reserve Factor for AMPL"}}},{"node":{"fields":{"slug":"/AIP-26/"},"frontmatter":{"status":"Proposed","aip":26,"title":"Raise Maximum Interest Rate on AMPL Market"}}},{"node":{"fields":{"slug":"/AIP-25/"},"frontmatter":{"status":"Proposed","aip":25,"title":"Extend Liquidity Incentives for Aave v2"}}},{"node":{"fields":{"slug":"/AIP-24/"},"frontmatter":{"status":"WIP","aip":24,"title":"Add PAX to Aave V2"}}},{"node":{"fields":{"slug":"/AIP-23/"},"frontmatter":{"status":"Proposed","aip":23,"title":"Add BarnBridge (BOND) to Aave"}}},{"node":{"fields":{"slug":"/AIP-22/"},"frontmatter":{"status":"Proposed","aip":22,"title":"Add RAI to Aave V2"}}},{"node":{"fields":{"slug":"/AIP-21/"},"frontmatter":{"status":"Proposed","aip":21,"title":"Set Reserve Factors for GUSD and CRV"}}},{"node":{"fields":{"slug":"/AIP-20/"},"frontmatter":{"status":"Proposed","aip":20,"title":"Safety Incentives Implementation"}}},{"node":{"fields":{"slug":"/AIP-19/"},"frontmatter":{"status":"Proposed","aip":19,"title":"Whitelist Curve Liquidity Mining Claim"}}},{"node":{"fields":{"slug":"/AIP-18/"},"frontmatter":{"status":"Proposed","aip":18,"title":"Aavenomics quarterly upgrade Q2 2021"}}},{"node":{"fields":{"slug":"/AIP-17/"},"frontmatter":{"status":"Proposed","aip":17,"title":"Aave Grants DAO"}}},{"node":{"fields":{"slug":"/AIP-16/"},"frontmatter":{"status":"Proposed","aip":16,"title":"introduce Liquidity Incentives for Aave v2"}}},{"node":{"fields":{"slug":"/AIP-15/"},"frontmatter":{"status":"Proposed","aip":15,"title":"Upgrade Aave V1 repayment for migration tool"}}},{"node":{"fields":{"slug":"/AIP-14/"},"frontmatter":{"status":"Proposed","aip":14,"title":"Enable borrowing on renFIL"}}},{"node":{"fields":{"slug":"/AIP-13/"},"frontmatter":{"status":"Proposed","aip":13,"title":"Add renFIL support to Aave"}}},{"node":{"fields":{"slug":"/AIP-12/"},"frontmatter":{"status":"Proposed","aip":12,"title":"Adding AMPL on AAVE"}}},{"node":{"fields":{"slug":"/AIP-11/"},"frontmatter":{"status":"Proposed","aip":11,"title":"desactivation of Aave V1 stable rate borrowing"}}},{"node":{"fields":{"slug":"/AIP-10/"},"frontmatter":{"status":"WIP","aip":10,"title":"Adding xSushi on AAVE"}}},{"node":{"fields":{"slug":"/AIP-9/"},"frontmatter":{"status":"Proposed","aip":9,"title":"Activation of the Aave Balancer Pool Liquidity Staking"}}},{"node":{"fields":{"slug":"/AIP-8/"},"frontmatter":{"status":"Proposed","aip":8,"title":"Adding BAL on AAVE"}}},{"node":{"fields":{"slug":"/AIP-7/"},"frontmatter":{"status":"Proposed","aip":7,"title":"Aavenomics Quarterly Upgrade"}}},{"node":{"fields":{"slug":"/AIP-6/"},"frontmatter":{"status":"Implemented","aip":6,"title":"Adding GUSD on AAVE"}}},{"node":{"fields":{"slug":"/AIP-5/"},"frontmatter":{"status":"Implemented","aip":5,"title":"Adding CRV on AAVE"}}},{"node":{"fields":{"slug":"/AIP-4/"},"frontmatter":{"status":"Implemented","aip":4,"title":"Activation of Aave Protocol Governance V2"}}},{"node":{"fields":{"slug":"/AIP-3/"},"frontmatter":{"status":"Implemented","aip":3,"title":"V1 upgrades for seamless transition to AAVE v2"}}},{"node":{"fields":{"slug":"/AIP-2/"},"frontmatter":{"status":"Implemented","aip":2,"title":"Bootstrap of the AAVE Governance Fund"}}},{"node":{"fields":{"slug":"/AIP-1/"},"frontmatter":{"status":"Implemented","aip":1,"title":"LEND/AAVE migration and activation of the Safety Module"}}}]},"markdownRemark":{"id":"7fa657b0-8e49-54f2-8ecd-216b476354aa","excerpt":"AIP rationale At the time of writing, 14,732,165 aLEND are deposited in the Aave protocol reserve, several community members currently use these assets asâ€¦","html":"<h2>AIP rationale</h2>\n<p>At the time of writing, 14,732,165 aLEND are deposited in the Aave protocol reserve, several community members currently use these assets as collateral in loans and would like to migrate both from LEND to AAVE and from V1 to V2 in the future.\nOutside of the situation of the aLEND holders, having a Flashloan-powered migration tool usable for every asset available on V1 to allow seamless migration from v1 to v2 would significantly ease the process of upgrading the liquidity to the new version of AAVE.</p>\n<p>To allow these new features, small modifications of the <code class=\"language-text\">repay()</code> method are needed to upgrade the efficiency of the process and allow v2 flashloans to access it.</p>\n<h2>AIP content in short</h2>\n<ul>\n<li>\n<p>upgrade of <code class=\"language-text\">lendingPool</code> v1 smart-contract <code class=\"language-text\">repay()</code> method</p>\n<p>This AIP expected effect will be the increase of migrated LEND and faster &#x26; easier transition to Aave V2 of V1 liquidity of all assets alongside an increased volume of Flashloans.</p>\n</li>\n</ul>\n<h2>Implementation details</h2>\n<ul>\n<li>Upgrade of the LendingPool contract <a href=\"https://etherscan.io/address/0x017788dded30fdd859d295b90d4e41a19393f423#code\">https://etherscan.io/address/0x017788dded30fdd859d295b90d4e41a19393f423#code</a></li>\n<li>Modify the repay() function as follows:\nOn LendingPool.sol, line 617, replace <code class=\"language-text\">onBehalfOf</code> with <code class=\"language-text\">msg.sender</code></li>\n</ul>\n<p>The upgrade having a minimum impact on v1 and is particularly simple on the technical side, for this reason, internal review by the Aave genesis team has been considered sufficient to validate it.\nthis upgrade details can be found in the Aave public github repo :</p>\n<ul>\n<li>modification code : <a href=\"https://github.com/aave/aave-protocol/pull/28/\">https://github.com/aave/aave-protocol/pull/28/</a></li>\n<li>AIP 3 Proposal payload: <a href=\"https://etherscan.io/address/0x3f0cfa3cad621c3651faf9de014489e20e5bf9d1\">https://etherscan.io/address/0x3f0cfa3cad621c3651faf9de014489e20e5bf9d1</a></li>\n</ul>\n<h2>Copyright</h2>\n<p>Copyright and related rights waived via <a href=\"https://creativecommons.org/publicdomain/zero/1.0/\">CC0</a>.</p>","frontmatter":{"aip":3,"title":"V1 upgrades for seamless transition to AAVE v2","status":"Implemented","author":"Marc Zeller (@marczeller)","discussions":"https://governance.aave.com/t/aip-3-upgrade-aave-v1-lendingpool-contract-for-seamless-migration-to-v2/1383","created":"November 11, 2020","updated":"2020-11-11T00:00:00.000Z"}}},"pageContext":{"slug":"/AIP-3/","previous":{"fields":{"slug":"/AIP-2/"},"frontmatter":{"title":"Bootstrap of the AAVE Governance Fund","status":"Implemented","aip":2}},"next":{"fields":{"slug":"/AIP-4/"},"frontmatter":{"title":"Activation of Aave Protocol Governance V2","status":"Implemented","aip":4}}}}}